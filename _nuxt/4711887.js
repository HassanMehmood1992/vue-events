(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{568:function(t,e,o){var content=o(593);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("30ddac3c",content,!0,{sourceMap:!1})},570:function(t,e,o){"use strict";o.r(e);o(31);var n={props:["actionType","booking","openDrawer"],data:function(){return{bookingModel:{},loading:!1,bookingDrawer:!1,etdPicker:!1,etaPicker:!1}},watch:{openDrawer:function(){this.bookingDrawer=this.openDrawer},bookingDrawer:function(){0==this.bookingDrawer&&this.$emit("onclose")},booking:{immediate:!0,handler:function(){this.booking&&(this.bookingModel={customerName:this.booking.customerName,startDate:this.booking.startDate,endDate:this.booking.endDate})}}},methods:{saveBooking:function(){this.$refs.form.validate()&&("Add"==this.actionType?this.addBooking():"Edit"==this.actionType&&this.editBooking())},addBooking:function(){},editBooking:function(){var t=this;this.loading=!0,setTimeout((function(){t.$emit("bookingUpdated",t.bookingModel),t.$emit("onclose"),t.bookingModel={},t.$refs.form.resetValidation(),t.loading=!1}),500)}}},r=o(44),l=o(66),c=o.n(l),d=o(561),v=o(544),f=o(188),m=o(124),k=o(615),h=o(554),y=o(612),w=o(191),_=o(559),x=o(195),C=o(617),D=o(556),V=o(67),B=o(589),S=o(613),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-navigation-drawer",{attrs:{app:"",right:"",temporary:"",width:"400"},model:{value:t.bookingDrawer,callback:function(e){t.bookingDrawer=e},expression:"bookingDrawer"}},[o("v-app-bar",{attrs:{color:"primary",height:55}},[o("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(this.actionType)+" booking for "+t._s(this.bookingModel.customerName)+"\n    ")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({attrs:{color:"white",text:"",icon:""},on:{click:function(e){t.bookingDrawer=!1}}},n),[o("v-icon",[t._v("mdi-close")])],1)]}}])},[t._v(" "),o("span",[t._v("Close")])])],1),t._v(" "),o("v-card",{staticClass:"ma-3"},[o("v-form",{ref:"form"},[o("v-card-text",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{md12:"",lg12:"",xl6:""}},[o("v-menu",{ref:"menu",attrs:{transition:"scale-transition","offset-y":"","min-width":"290px",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-text-field",t._g({attrs:{value:t._f("fullDate")(t.bookingModel.startDate),label:"From Date",readonly:"",required:"",outlined:"",rules:[function(t){return!!t||"Required"}]}},n))]}}]),model:{value:t.etdPicker,callback:function(e){t.etdPicker=e},expression:"etdPicker"}},[t._v(" "),o("v-date-picker",{attrs:{"no-title":"",color:"primary"},on:{input:function(e){t.etdPicker=!1}},model:{value:t.bookingModel.startDate,callback:function(e){t.$set(t.bookingModel,"startDate",e)},expression:"bookingModel.startDate"}})],1)],1),t._v(" "),o("v-flex",{attrs:{md12:"",lg12:"",xl6:""}},[o("v-menu",{ref:"menu",attrs:{transition:"scale-transition","offset-y":"","min-width":"290px",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-text-field",t._g({attrs:{value:t._f("fullDate")(t.bookingModel.endDate),label:"To Date",readonly:"",outlined:"",required:"",rules:[function(t){return!!t||"Required"}]}},n))]}}]),model:{value:t.etaPicker,callback:function(e){t.etaPicker=e},expression:"etaPicker"}},[t._v(" "),o("v-date-picker",{attrs:{"no-title":"",color:"primary"},on:{input:function(e){t.etaPicker=!1}},model:{value:t.bookingModel.endDate,callback:function(e){t.$set(t.bookingModel,"endDate",e)},expression:"bookingModel.endDate"}})],1)],1)],1)],1),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){return t.$emit("onclose")}}},[t._v("Cancel")]),t._v(" "),o("v-btn",{attrs:{depressed:"",color:"primary",loading:t.loading},on:{click:t.saveBooking}},[t._v(t._s("Add"==t.actionType?"Add booking":"Update booking"))])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VAppBar:d.a,VBtn:v.a,VCard:f.a,VCardActions:m.a,VCardText:m.b,VDatePicker:k.a,VFlex:h.a,VForm:y.a,VIcon:w.a,VLayout:_.a,VMenu:x.a,VNavigationDrawer:C.a,VSpacer:D.a,VTextField:V.a,VToolbarTitle:B.a,VTooltip:S.a})},571:function(t,e,o){"use strict";o.r(e);var n=o(44),r=o(66),l=o.n(r),c=o(557),d=o(554),v=o(390),f=o(559),component=Object(n.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},[e("v-img",{attrs:{src:this.$appURL+"images/roadsurfer-campervan-hire.jpg","lazy-src":this.$appURL+"images/roadsurfer-campervan-hire.jpg","min-height":"50vh"}},[e("v-layout",{staticClass:"my-10",attrs:{row:"","justify-end":""}},[e("v-flex",{staticClass:"secondary pa-4 ma-3 title white--text",attrs:{md3:""}},[this._v("#RoadSurferAssignment")])],1)],1)],1)}),[],!1,null,"4d82e45a",null);e.default=component.exports;l()(component,{VContainer:c.a,VFlex:d.a,VImg:v.a,VLayout:f.a})},592:function(t,e,o){"use strict";o(568)},593:function(t,e,o){(e=o(9)(!1)).push([t.i,".v-btn[data-v-540e4ce4]{text-transform:capitalize!important}.cls-1[data-v-540e4ce4]{fill:#fff}.cls-2[data-v-540e4ce4]{fill:#4a4b4a}.cls-3[data-v-540e4ce4]{fill:#fff}.cls-4[data-v-540e4ce4]{fill:#f9b104}.booking-edit[data-v-540e4ce4]{position:absolute;right:20px;top:20px;cursor:pointer}",""]),t.exports=e},616:function(t,e,o){"use strict";o.r(e);o(18),o(47),o(41),o(19),o(69);var n=o(570),r=o(571),l={components:{editBooking:n.default,welcome:r.default},data:function(){return{loading:!1,station:null,addEditDrawer:!1,actionType:"Edit",start:(new Date).toISOString().substr(0,10),type:"week",loadingBookingCard:!1,bookingCard:{},toggleView:"week",calendarLabel:"",bookings:[],selectedBooking:null,colors:["purple","green","primary","secondary","red"]}},watch:{station:{immediate:!0,handler:function(){this.station&&this.fetchStations()}}},methods:{fetchStations:function(){var t=this;this.loading=!0,axios.get("stations?name="+this.station.name).then((function(e){e.data.length>0&&t.setBookings([e.data[0]])})).finally((function(){t.loading=!1}))},fetchBookingInfo:function(t){var e=this;this.bookingCard={},this.loadingBookingCard=!0,axios.get("stations/".concat(t.stationId,"/bookings/").concat(t.bookingId)).then((function(t){t.data&&(e.bookingCard=t.data)})).finally((function(){e.loadingBookingCard=!1}))},getRandomColor:function(){var t=Math.floor(Math.random()*this.colors.length);return this.colors[t]},calendarUpdate:function(t){"week"==this.type?this.calendarLabel="".concat(this.$options.filters.dateRange(t.start.date,t.end.date)):"day"==this.type&&(this.calendarLabel=this.$options.filters.fullDate(t.start.date))},setTypeView:function(t){t?"today"==t?(this.start=(new Date).toISOString().substr(0,10),this.type="day"):this.type=t:(this.type="week",this.toggleView="week")},editSchedule:function(){this.actionType="Edit",this.addEditDrawer=!0},onBookingUpdated:function(){alert("Update schedule and perform post update operations here")},setBookings:function(t){var e=this,o=[];t.forEach((function(t){for(var n=0;n<t.bookings.length;n++){var r=t.bookings[n];o.push({bookingId:r.id,customerName:r.customerName||"",stationId:t.id,stationName:t.name,start:new Date(r.startDate),end:r.endDate?new Date(r.endDate):null,color:e.getRandomColor()})}})),this.bookings=o}}},c=(o(592),o(44)),d=o(66),v=o.n(d),f=o(544),m=o(618),k=o(614),h=o(188),y=o(124),w=o(557),_=o(554),x=o(191),C=o(559),D=o(195),V=o(187),B=o(556),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},[o("v-layout",{staticClass:"mt-4 mb-8"},[o("welcome")],1),t._v(" "),o("v-layout",{staticClass:"my-3",attrs:{row:"","align-center":"","justify-center":""}},[o("v-flex",{staticClass:"white--text title primary pa-4 text-center",attrs:{md4:""}},[t._v("\n      Select your station for bookings!\n    ")])],1),t._v(" "),o("v-layout",{staticClass:"mx-2",attrs:{row:""}},[o("v-flex",{staticClass:"pa-2",attrs:{sm6:"",md4:""}},[o("station-search",{attrs:{label:"Station",dense:"",outlined:"","return-object":"",clearable:"",loading:t.loading,placeholder:"Search by name"},on:{onSelect:function(e){t.station=e},onClear:function(e){t.station=null}},model:{value:t.station,callback:function(e){t.station=e},expression:"station"}})],1)],1),t._v(" "),o("v-card",[o("v-card-text",{staticClass:"py-0"},[o("v-layout",{staticClass:"align-center py-2",attrs:{row:""}},[o("v-flex",{attrs:{md5:""}},[o("div",{style:"today"==t.toggleView?"visibility:hidden;":"visibility:visible;"},[o("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){return t.$refs.calendar.prev()}}},[o("v-icon",[t._v("mdi-chevron-left")])],1),t._v(" "),o("span",{staticClass:"secondary--text body-1"},[t._v(t._s(t.calendarLabel))]),t._v(" "),o("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){return t.$refs.calendar.next()}}},[o("v-icon",[t._v("mdi-chevron-right")])],1)],1)]),t._v(" "),o("v-spacer"),t._v(" "),o("v-flex",{staticClass:"py-2",attrs:{shrink:""}},[o("v-btn-toggle",{on:{change:t.setTypeView},model:{value:t.toggleView,callback:function(e){t.toggleView=e},expression:"toggleView"}},[o("v-btn",{attrs:{outlined:"",small:"",color:"primary",value:"today"}},[t._v("Today")]),t._v(" "),o("v-btn",{attrs:{outlined:"",small:"",color:"primary",value:"week"}},[t._v("Week")]),t._v(" "),o("v-btn",{attrs:{outlined:"",small:"",color:"primary",value:"day"}},[t._v("Day")])],1)],1)],1)],1),t._v(" "),o("div",[o("v-calendar",{ref:"calendar",staticClass:"custom--calender",attrs:{"event-color":function(t){return t.color},color:"primary",events:t.bookings,type:t.type},on:{change:t.calendarUpdate},scopedSlots:t._u([{key:"event",fn:function(e){var n=e.event;return[o("v-menu",{attrs:{"offset-y":"",tile:"","max-width":"300px","nudge-left":"3px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[o("div",t._g({staticClass:"ml-1",on:{click:function(e){return t.fetchBookingInfo(n)}}},r),[o("span",[t._v(t._s(n.customerName))])])]}}],null,!0)},[t._v(" "),o("v-card",{attrs:{"max-height":"200px",height:"200px",width:"300px",color:n.color,tile:"",elevation:"0"}},[t.loadingBookingCard?o("v-card-text",[o("v-progress-circular",{attrs:{indeterminate:"",color:"white",width:3}})],1):t.bookingCard?o("v-card-text",[o("v-icon",{staticClass:"booking-edit",attrs:{small:"",color:"white"},on:{click:function(e){return t.editSchedule(n)}}},[t._v("mdi-pencil")]),t._v(" "),o("v-layout",{staticClass:"white--text mx-2 py-4"},[o("v-flex",[o("div",{staticClass:"font-weight-medium body-2"},[t._v("Customer")]),t._v(" "),o("div",{staticClass:"font-weight-bold body-1"},[t._v("\n                      "+t._s(t.bookingCard.customerName?t.bookingCard.customerName:"")+"\n                    ")])])],1),t._v(" "),o("v-layout",{staticClass:"white--text mx-2 mt-2",attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{md12:""}},[o("div",[o("div",{staticClass:"font-weight-medium caption"},[t._v("\n                        Booking Dates\n                      ")]),t._v(" "),o("div",{staticClass:"caption"},[o("v-icon",{staticClass:"pr-2",attrs:{small:"",color:"white"}},[t._v("mdi-calendar-blank")]),t._v(t._s(t._f("dateRange")(t.bookingCard.startDate,t.bookingCard.endDate))+"\n                      ")],1)])])],1)],1):t._e()],1)],1)]}}]),model:{value:t.start,callback:function(e){t.start=e},expression:"start"}})],1)],1),t._v(" "),o("edit-booking",{attrs:{actionType:t.actionType,openDrawer:t.addEditDrawer,booking:t.bookingCard},on:{bookingUpdated:function(e){return t.onBookingUpdated()},onclose:function(e){t.addEditDrawer=!1,t.bookingCard=null}}})],1)}),[],!1,null,"540e4ce4",null);e.default=component.exports;v()(component,{Welcome:o(571).default,StationSearch:o(389).default,EditBooking:o(570).default}),v()(component,{VBtn:f.a,VBtnToggle:m.a,VCalendar:k.a,VCard:h.a,VCardText:y.b,VContainer:w.a,VFlex:_.a,VIcon:x.a,VLayout:C.a,VMenu:D.a,VProgressCircular:V.a,VSpacer:B.a})}}]);